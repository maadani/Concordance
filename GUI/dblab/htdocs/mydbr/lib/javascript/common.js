(function(a){a.fn.parentRelative=function(){var b,d={},c;d.left=0;d.top=0;c=a(this);while(c.offsetParent()[0].tagName!=="BODY"&&c.offsetParent()[0].tagName!=="HTML"){b=c.offsetParent().position();d.left+=b.left;d.top+=b.top;c=c.offsetParent()}return d}}(jQuery));function makeEvent(b,e,d,c){function a(){return e(d)}if(b.addEventListener){b.addEventListener(c,a,false)}else{if(b.attachEvent){b.attachEvent("on"+c,a)}}}function appbar(a){if(a==0){window.location="logout.php"}else{if(a==1){document.forms.menubarform.app.value="passwd"}else{document.forms.menubarform.app.value="admin0"}document.forms.menubarform.submit()}}String.prototype.unescapeHtml=function(){var b,a;b=document.createElement("div");b.innerHTML=this;a=b.childNodes[0].nodeValue;b.removeChild(b.firstChild);return a};function getTableCell(b,c){var a=b.parentNode.parentNode.cells[c].innerHTML;if(a.length==0){return""}return a.unescapeHtml()}function datepicker(a){$(a).datepicker({showButtonPanel:true,altFormat:"yy-mm-dd"})}function search_table(e,c){var g=e.value.toLowerCase().split(" "),j,d,a,f,h,b;if(j===null){j=$(e).closest("table")}else{j=document.getElementById(c)}b=$(j).width();for(a=1;a<j.rows.length;a++){if(j.rows[a].cells[0].nodeName.toLowerCase()!="th"){d=$(j.rows[a]).find("td").clone().children(".drillmenuitems").remove().end().text();h="none";for(f=0;f<g.length;f++){if(d.toLowerCase().indexOf(g[f])>=0){h=""}else{h="none";break}}j.rows[a].style.display=h}}$(j).width(b);mydbr_table_changed($(j).attr("id"))}function htmlspecialchars_decode(b,f){var d=0,c=0,e=false,a;if(typeof f==="undefined"){f=2}b=b.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");a={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(f===0){e=true}if(typeof f!=="number"){f=[].concat(f);for(c=0;c<f.length;c++){if(a[f[c]]===0){e=true}else{if(a[f[c]]){d=d|a[f[c]]}}}f=d}if(f&a.ENT_HTML_QUOTE_SINGLE){b=b.replace(/&#0*39;/g,"'")}if(!e){b=b.replace(/&quot;/g,'"')}b=b.replace(/&amp;/g,"&");return b}function sprintf(){var g,h,b,c,k,e,d,f,j;g=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g;h=arguments;f=0;j=h[f++];b=function(n,a,i,m){if(!i){i=" "}var l=(n.length>=a)?"":Array(1+a-n.length>>>0).join(i);return m?n+l:l+n};c=function(m,l,p,a,i,o){var n=a-m.length;if(n>0){if(p||!i){m=b(m,a,o,p)}else{m=m.slice(0,l.length)+b("",n,"0",true)+m.slice(l.length)}}return m};k=function(p,o,n,q,i,a,m){var l=p>>>0;n=n&&l&&{"2":"0b","8":"0","16":"0x"}[o]||"";p=n+b(l.toString(o),a||0,"0",false);return c(p,n,q,i,m)};e=function(m,o,i,a,l,n){if(a!=null){m=m.slice(0,a)}return c(m,"",o,i,l,n)};d=function(z,m,n,r,B,w,l){var v,a,u,i,A,t,s=false,o="",q=false,y=false,x=" ",p;if(z=="%%"){return"%"}p=n.length;for(v=0;n&&v<p;v++){switch(n.charAt(v)){case" ":o=" ";break;case"+":o="+";break;case"-":s=true;break;case"'":x=n.charAt(v+1);break;case"0":q=true;break;case"#":y=true;break}}if(!r){r=0}else{if(r=="*"){r=+h[f++]}else{if(r.charAt(0)=="*"){r=+h[r.slice(1,-1)]}else{r=+r}}}if(r<0){r=-r;s=true}if(!isFinite(r)){throw new Error("sprintf: (minimum-)width must be finite")}if(!w){w="fFeE".indexOf(l)>-1?6:(l=="d")?0:undefined}else{if(w=="*"){w=+h[f++]}else{if(w.charAt(0)=="*"){w=+h[w.slice(1,-1)]}else{w=+w}}}t=m?h[m.slice(0,-1)]:h[f++];switch(l){case"s":return e(String(t),s,r,w,q,x);case"c":return e(String.fromCharCode(+t),s,r,w,q);case"b":return k(t,2,y,s,r,w,q);case"o":return k(t,8,y,s,r,w,q);case"x":return k(t,16,y,s,r,w,q);case"X":return k(t,16,y,s,r,w,q).toUpperCase();case"u":return k(t,10,y,s,r,w,q);case"i":case"d":a=parseInt(+t,10);u=a<0?"-":o;t=u+b(String(Math.abs(a)),w,"0",false);return c(t,u,s,r,q);case"e":case"E":case"f":case"F":case"g":case"G":a=+t;u=a<0?"-":o;i=["toExponential","toFixed","toPrecision"]["efg".indexOf(l.toLowerCase())];A=["toString","toUpperCase"]["eEfFgG".indexOf(l)%2];t=u+Math.abs(a)[i](w);return c(t,u,s,r,q)[A]();default:return z}};return j.replace(g,d)}function number_format(f,c,h,e){f=(f+"").replace(",","").replace(" ","");var b=!isFinite(+f)?0:+f,a=!isFinite(+c)?0:Math.abs(c),j=(typeof e==="undefined")?",":e,d=(typeof h==="undefined")?".":h,i="",g=function(o,m){var l=Math.pow(10,m);return""+Math.round(o*l)/l};i=(a?g(b,a):""+Math.round(b)).split(".");if(i[0].length>3){i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,j)}if((i[1]||"").length<a){i[1]=i[1]||"";i[1]+=new Array(a-i[1].length+1).join("0")}return i.join(d)}function parse_num_attr(href){var src=href.substr(href.indexOf("?")+1),attr,attrs=src.split("&"),str="{",i;for(i=0;i<attrs.length;i++){attr=attrs[i].split("=");if(i>0){str+=","}str+=attr[0]+":"+attr[1]}str+="}";return eval("("+str+")")}function is_touch_device(){return(typeof Touch==="object")}function init_scale_image(c){var b,a;b=(c)?c:"";$(b+" div.scale_image").each(function(f){var e,d;if($(this).css("position")!="absolute"){$(this).css("left",$(this).position().left+"px");$(this).css("position","absolute");$(this).css("top",($(this).position().top-25)+"px");e=$($(this).next()[0].useMap).first().children();for(d=0;d<e.length;d++){$.data(e[d],"coords",e[d].coords)}}$(this).slider({value:100,min:10,max:100,slide:function(i,j){var l,h=$(this).next()[0],m,k,g=j.value/100;if(h.style.height!="auto"){$.data(this,"width",$(h).width());$.data(this,"left",$(h).position().left)}l=$.data(this,"width");m=0;k=1;g=m+(g*(k-m));h.style.width=(g*l)+"px";h.style.height="auto";$(h).position().left=$.data(this,"left")},change:function(l,n){var o,m,g,j,k,h=$($(this).next()[0].useMap).first().children();for(j=0;j<h.length;j++){m="";g=$.data(h[j],"coords").split(" ");for(k=0;k<g.length;k++){a=g[k].split(",");for(o=0;o<a.length;o++){a[o]=Math.round(a[o]*n.value/100);m+=a[o];if(o+1!=a.length){m+=","}}if(k+1!=g.length){m+=" "}}h[j].coords=m}}})})}$.fn.serializeObject=function(){var c={},b=this.serializeArray();$.each(b,function(){if(c[this.name]){if(!c[this.name].push){c[this.name]=[c[this.name]]}c[this.name].push(this.value||"")}else{c[this.name]=this.value||""}});return c};function getUrlVars(){var b,d=[],c,a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(b=0;b<a.length;b++){c=a[b].split("=");d.push(c[0]);d[c[0]]=c[1]}return d}function getURLParameter(a){return decodeURI((RegExp(a+"=(.+?)(&|$)").exec(location.search)||[,null])[1])}function getUrlPath(){var a=window.location;return a.protocol+"//"+a.host+a.pathname}function array_identical(d,c){var e=d.length;if(e!=c.length){return false}while(e--){if(d[e]!==c[e]){return false}}return true}(function(c){var b=c(window);c.fn.viewportOffset=function(){var a=c(this).offset();return{left:a.left-b.scrollLeft(),top:a.top-b.scrollTop()}}})(jQuery);function resize_codemirror(c,b){var a;if(typeof b==="undefined"){b=120}if(!editor.space_below){editor.space_below=b}a=$(window).height()-$(".CodeMirror").offset().top-editor.space_below;editor.setSize("100%",a+"px")}function unicodeToChar(a){return a.replace(/\\u[\dABCDEFabcdef][\dABCDEFabcdef][\dABCDEFabcdef][\dABCDEFabcdef]/g,function(b){return String.fromCharCode(parseInt(b.replace(/\\u/g,""),16))})}jQuery.uaMatch=function(b){b=b.toLowerCase();var a=(/(chrome)[ \/]([\w.]+)/.exec(b))||(/(webkit)[ \/]([\w.]+)/.exec(b))||(/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b))||(/(msie) ([\w.]+)/.exec(b))||b.indexOf("compatible")<0&&(/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b))||[];return{browser:a[1]||"",version:a[2]||"0"}};if(!jQuery.browser){matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version}if(browser.chrome){browser.webkit=true}else{if(browser.webkit){browser.safari=true}}jQuery.browser=browser}function Countdown(i){var a,g=this,d=i.seconds||10,f=i.onUpdateStatus||function(){},e=i.onCounterEnd||function(){},h=i.display_obj||"refresh_counter",b="go";function c(){if(b=="go"){d--;f(d);if(d<=0){g.stop();e()}}}this.start=function(){clearInterval(a);a=0;a=setInterval(c,1000)};this.stop=function(){clearInterval(a)};this.toggle=function(){$("."+h).toggleClass("paused");if(b=="go"){b="pause"}else{d=parseInt($("."+h).text(),10);b="go"}}}function isIE(){return(navigator.userAgent.indexOf("MSIE")!==-1||navigator.appVersion.indexOf("Trident/")>0)}function csrf_token_get(){return $("#csrf_token").val()}function mydbr_table_changed(a){if($("#"+a).hasClass("lockcolumns")){$("#"+a).lockcolumns()}}function gup(b,e){var a,d,c;e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a="[\\?&]"+e+"=([^&#]*)";d=new RegExp(a);c=d.exec(b);if(c==null){return""}else{return c[1]}}jQuery.extend({getQueryParameters:function(a){return(a||document.location.search).replace(/(^\?)/,"").split("&").map(function(b){return b=b.split("="),this[b[0]]=b[1],this}.bind({}))[0]}});